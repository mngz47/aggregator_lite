<html>
<head>
<title>Marketing 101</title>
</head>
<body>
<script src=rr/api.js ></script>
<h3>Target Website</h3>
<span>URL</span>
<input type=text name=url id=url />
<a href=# onclick=start(); >Start Marketing</a>
<script>

var external_urls = [];

var layer_urls = [];

function layerURL(text){
var links = text.split('<a ');
for(var a=0;a<links.length;a++){

var hh = links[a].substring(indexOf('href="'),indexOf('" '));
if(hh.contains(e('url').value)){
layer_urls[layer_urls.length] = hh;
}else{
external_urls[external_urls.length] = hh;
}
}
}

function getUrlText(url){
var text; 
var res = sendreq(url);
res.onload = function(){
text = res.responseText;
};
return text;
}

function pushContent(text){

}
   var hh;//heading
   var pp;//price
   var ii = [];//images
   var dd;//description
   var cc;//comments
   
   
   function fetch_product(text){
      
      var headings = text.split['<h'];
      
      for(var a=0;a<headings.length;a++){
         if(headings[a].substring(0,100).includes('heading') || headings[a].substring(0,100).includes('tilte')){
            
            hh = headings[a].substring (headings[a].indexOf('>') , headings[a].indexOf('<'));
            break;
         }
      }
      
      var headings_1 = text.split['<span'];
      
       for(var a=0;a<headings_1.length;a++){
         if(headings_1[a].substring(0,100).includes('heading') || headings_1[a].substring(0,100).includes('tilte')){
            
            hh = headings_1[a].substring (headings_1[a].indexOf('>') , headings_1[a].indexOf('<'));
            break;
         }
      }
      
      var prices = text.split['<span'];
      
      for(var a=0;a<prices.length;a++){
         if(prices[a].substring(0,100).includes('price')){
            
            pp = prices[a].substring (prices[a].indexOf('>')+1 , prices[a].indexOf('<'));
            break;
         }
      }
      
      var images = text.split['<img'];
      
      for(var a=0;a<images.length;a++){
         if(images[a].substring(0,100).includes('product')){
            
            ii[ii.length] = images[a].substring (images[a].indexOf('src="') +5, images[a].indexOf('"'));
            break;
         }
      }
     
      var descriptions = text.split['<p'];
      
      for(var a=0;a<descriptions.length;a++){
         if(descriptions[a].substring(0,100).includes('description')){
            
            var narrow = 
             dd += descriptions[a].substring (descriptions[a].indexOf('>')+1 , descriptions[a].indexOf('<'));
            
         }
      }
      
      var descriptions_1 = text.split['<div'];
      
      for(var a=0;a<descriptions_1.length;a++){
         if(descriptions_1[a].substring(0,100).includes('description')){
            
             dd += descriptions_1[a].substring (descriptions_1[a].indexOf('>')+1 , descriptions_1[a].indexOf('<'));
            
         }
      }
      
      var comments = text.split['<p'];
      
      for(var a=0;a<descriptions.length;a++){
         if(descriptions[a].substring(0,100).includes('description')){
            
            cc += descriptions[a].substring (descriptions[a].indexOf('>')+1 , descriptions[a].indexOf('<'));
            break;
         }
      }
      
      var descriptions_1 = text.split['<div'];
      
      for(var a=0;a<descriptions_1.length;a++){
         if(descriptions_1[a].substring(0,100).includes('description')){
            
             cc += descriptions_1[a].substring (descriptions_1[a].indexOf('>')+1 , descriptions_1[a].indexOf('<'));
            break;
         }
      }
      
   }

function start(){

layerURL(getUrlText(e('url').value));

pushContent(getUrlText(e('url').value));

for(var a=0;a<layer_urls.length;a++){

   layerURL(getUrlText(layer_urls[a]));
   
   pushContent(getUrlText(layer_urls[a]));
   
   fetch_product(getUrlText(layer_urls[a]));
}

}

</script>
</body>
</html>
